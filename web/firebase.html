<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <link rel="stylesheet" href="./css/bootstrap.min.css">
  <link rel="stylesheet" href="./css/main.css">
  <script src="https://www.gstatic.com/firebasejs/6.1.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.1.0/firebase-database.js"></script>
  <script src="./js/bootstrap.min.js"></script>
  <script>
    // tạo config kết nối firebase
    var firebaseConfig = {
      apiKey: "AIzaSyApsQiF2bUfRaEV4JFVZc6RP9j8wyEbMl8",
      authDomain: "mqtt-e9aac.firebaseapp.com",
      databaseURL: "https://mqtt-e9aac.firebaseio.com",
      projectId: "mqtt-e9aac",
      storageBucket: "mqtt-e9aac.appspot.com",
      messagingSenderId: "852073466572",
      appId: "1:852073466572:web:79c2c710294b2d6b"
    };
    firebase.initializeApp(firebaseConfig);
    // kết nối tới firebase
    var db = firebase.database();
    // gọi biến "opened" trên firebase
    var opened = db.ref('opened');
    var lock = db.ref('locked');
    var ringing_status = db.ref('ringingstatus');

    function turnoff_ringingStatus() {
      // ghi giá trị lên firebase
      ringing_status.set("false");
      console.log(ringing_status);
      document.getElementById("button_off").setAttribute("style", "display: none");
      document.getElementById("button_on").setAttribute("style", "display: block;");
      return ringing_status;
    }
    function turnon_ringingStatus() {
      // ghi giá trị lên firebase
      ringing_status.set("true");
      console.log(ringing_status);
      document.getElementById("button_off").setAttribute("style", "display: block");
      document.getElementById("button_on").setAttribute("style", "display: none;");
      return ringing_status;
    }
  </script>
</head>

<body>
  <!-- hiển thị giá trị của biến từ firebase -->
  <div class="container mr_60 bg">
    <div class="row justify-content-center">
      <h2>Welcome to </h2>
    </div>
    <div id="button" class="mr_top">
      <button class="btn btn-outline-danger" type="button" name="button" id = "button_off" onclick="turnoff_ringingStatus()">Turn off</button>
      <button class="btn btn-outline-primary" type="button" name="button" id = "button_on" style="visibility: hidden" onclick="turnon_ringingStatus()">Turn on</button>
    </div>
  </div>

  <!-- button thay đổi giá trị của biến -->
</body>

</html>
